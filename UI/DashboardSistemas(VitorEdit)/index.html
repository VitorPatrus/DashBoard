<html>

<head>
	<!-- jQuery -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<!-- D3.js -->
	<script src="https://d3js.org/d3.v6.min.js"></script>
	<!-- Moment.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
	<!-- Billboard.js -->
	<script src="billboard.min.js"></script>
	<link rel="stylesheet" href="billboard.min.css">
	<!-- Google Charts -->
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<!-- Bootstrap -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<!-- html2pdf.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
		integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
		integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
		integrity="sha384-......" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
		integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Digital-7&display=swap">
	<link href="https://fonts.googleapis.com/css2?family=Jersey+25+Charted&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Jersey+10+Charted&display=swap" rel="stylesheet">
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
	<link
		href="https://fonts.googleapis.com/css2?family=Anek+Devanagari:wght@100..800&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Orbitron:wght@400..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
		rel="stylesheet">
</head>

<body style="background-color:#f4f2f0">
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		<div class="container-fluid">
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
							aria-expanded="false">
							Colaborador
						</a>
						<ul class="dropdown-menu">
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('52F14677-9C85-41D5-D723-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-jp.jpg" alt="">Joao Paulo (TI MTZ)
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('C44D7319-3318-43D4-D726-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-joel.jpg" alt="">Joel Junior (TI MTZ)
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('3F7E1A71-815A-4397-D725-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-junior.jpg" alt="">Junior Dias (TI MTZ)
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('C0D4394F-38EF-4F8B-D71E-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-paulo.jpg" alt="">Paulo Silva (TI MTZ)
								</a>
							</li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('69DB13EF-89C0-4A6F-D71F-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-amanda.jpg" alt="">Amanda Ferreira (TI MTZ)
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('BD984996-9C11-4095-D71D-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-fernanda.jpg" alt="">Fernanda Cassiano (TI MTZ)
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('0D6227A1-7B72-4DAC-D720-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-luiz.jpg" alt="">Luiz Oliveira
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="#"
									onclick="clickColaboradorFuncao('87B833CD-7810-4030-D722-08DC62DFD032')">
									<img class="rounded-circle me-1" width="24" height="24"
										src="./Content/Images/face-thiago.jpg" alt="">Thiago Oliveira (TI MTZ)
								</a>
							</li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li><a class="dropdown-item" href="time.html">Time TMS</a></li>
							<li><a class="dropdown-item" href="time.html">Time ERP</a></li>
						</ul>
					</li>
				</ul>
				<button id="sendMailButton" class="sendMailButton" role="button" style="float: right;">Enviar </button>
			</div>
		</div>
	</nav>
	<div id="content">
		<div class="col-md-12" style="padding:20px; ">
			<div class="row" id="capture">
				<div class="col-md-3">
					<div class="card text-center" style="min-height: 352px;">
						<img src="./Content/Images/time-tms.png" id="time_colaborador" height="165px"
							class="card-img-top" alt="...">
						<div class="d-flex justify-content-center" style="margin-top: -30px">
							<img src="./Content/Images/face-junior.jpg" id="img_colaborador"
								class="rounded-circle me-1 flex" width="60" height="60" alt="...">
						</div>
						<div class="card-body">
							<b class="card-title" id="nome_colaborador">Nome Colaborador </b> / <b class="card-title"
								id="TIME"> </b>
							<br />
							<small class="card-text" id="email_colaborador">EMAIL Colaborador </small>
							<br />
							<small class="card-text" id="cargo_colaborador">Cargo Colaborador</small>
						</div>
						<div class="card-footer text-body-secondary">
							<center><small><i class="fa-solid fa-business-time"></i><span id="totalIndividual">
										Engajamento</span></small>
							</center>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="card" style="max-height: 352px;">
						<div class="card-body col-md-12">
							<div class="col-md-12">
								<div class="row">
									<div class="col-md-6">
										<div class="row">
											<!-- gr√°fico  -->
											<span id="gaugeNeedle_1"></span>
										</div>
									</div>
									<div class="col-md-3"></div>
									<div class="col-md-3">
										<div class="row">
											<span id="valorEngajamento"
												style="font-size: 23px; font-weight: bolder;">45%</span>
											<span style="font-size: x-small;">TMETRIC</span>
											<h3 id="tmetric" style="font-size: medium;">38:50h</h3>
											<span style="font-size: x-small;">EXPEDIENTE</span>
											<h3 id="trabalhado" style="font-size: medium;">41:02h</h3>
										</div>
									</div>
								</div>
								<!-- Coluna gr√°fico -->
								<hr>
								<!-- Coluna lista e gr√°fico lado a lado -->
								<div class="row">
									<div class="col-md-6">
										<ol class="list-unstyled">
											<li>
												<a class="dropdown-item" id="primeiro" style="font-weight: bolder;"
													href="#"></a>
											</li>
											<hr>
											<h5>Top 3 de engajamento</h5>
											<li>
												<a class="dropdown-item" id="segundo" href="#"></a>
											</li>
											<li>
												<a class="dropdown-item" id="terceiro" href="#"></a>
											</li>
											<li>
												<a class="dropdown-item" id="quarto" href="#"></a>
											</li>
										</ol>
									</div>
									<div class="col-md-6 align-items-start">
										<!-- gr√°fico donut -->
										<!-- <div id="multilineTitle" style="padding-bottom: 180px; padding-left: 25px;" ></div> -->
										<!-- Markup -->
										<div id="gaugeChart">
										</div>
										<span style="font-size: xx-small; align-items: center;">üí°Discovery, Delivery e Bug comparados ao DevOps</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-5">
					<div class="row">
						<div class=" col-md-6">
							<div class="card" style="padding: 0; margin: 0;">
								<!-- grafico evolu√ß√£o -->
								<span id="curve_chart"></span>
								<div class="card-footer" style="font-size: 14px; text-align: center;"><i
										class="fa-solid fa-chart-line "></i></i> Evolu√ß√£o do Engajamento</div>
							</div>
							<div class="card" id="clt">
								<div class="horas-card">
									<div>
										<span class="card-text">
											<span style="font-size: large;">Colaborador</span>
											<span class="meutexto" id="txt_horas_individuais"
												style="font-size: 35px; color: red;  margin-top: 0;">ERRO</span>
									</div>
									<div>
										<span style="font-size: large; margin-left: 23px;">Time</span>
										<span class="meutexto" id="txt_horasEquipe"
											style="font-size: 35px; color: red; margin-top: 0;">PONTO</span>
									</div>
								</div>
								<div class="card-footer text-body-secondary">
									<center>
										<small><i class="fa-regular fa-clock"></i> Gest√£o de Horas Extras</small>
									</center>
								</div>
							</div>
							<div class="card" id="pj" style="height: 162px;">
								<div class="card-body text-center">
									<span class="card-text" style="margin-top: 10px;">
										<span style="font-size: large;">Colaborador</span><br>
										<span class="meutexto" id="horasPJ"
											style=" font-size: 35px !important; color: green;">ERRO
										</span>
									</span>
								</div>
								<div class="card-footer text-body-secondary">
									<center> <small><i class="fa-regular fa-clock"></i> Carga Hor√°ria</small>
									</center>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="row">
								<div class="card" style="max-height: 350px;">
									<div class="row">
										<div class="col-md-12">
											<div class="row">
												<!-- grafico pizza -->
												<div id="piechart"></div>
											</div>
										</div>
										<div class="card-footer text-muted">
											<div class="text-center">
												<i class="fa-solid fa-chart-pie"></i>
												Resumo Apropria√ß√£o
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div></div>
		</div>
			<div class="row" style="padding-top: 10px; margin-left: 5px;">
				<h4>Atividades trabalhadas</h4>
				<h5 id="date-placeholder"> Atividades trabalhadas durante o per√≠odo 29/04 √† 03/05 </h5>
				<table class="table table-striped" id="atividades">
					<thead>
						<tr>
							<th scope="col">ID</th>
							<th scope="col">Atividade</th>
							<th scope="col">Ticket</th>
							<th scope="col">Tipo</th>
							<th scope="col">Data</th>
							<th scope="col">Horas</th>
						</tr>
					</thead>
				</table>
			</div>
		</div>

</body>
<script>
	// Chamando a API
	function clickColaboradorFuncao(id) {
		document.idColaborador = id;
		var apiUrl = 'https://localhost:7052/Colaborador/ColaboradorDashboard?id=' + id;
		$.get(apiUrl, function (data) {

			function formatarHora(str) {
				return String(Math.trunc(str)).padStart(2, '0') + ':' + String(Math.trunc(60 * (str - Math.trunc(str)))).padStart(2, '0');
			}
			document.engajamento = data.engajamento;
			document.lista = data.atividades;


			$('#nome_colaborador').text(data.nome);
			$('#email_colaborador').text(data.email);
			$('#img_colaborador').attr('src', 'data:image/jpeg;base64,' + data.fotoColaborador);
			$('#time_colaborador').attr('src', 'data:image/jpeg;base64,' + data.fotoTime);
			$('#TIME').text(data.time);
			$('#cargo_colaborador').text(data.cargo);
			$('#valorEngajamento').text(data.engajamento + '%');
			$('#txt_horas_individuais').text(data.hE_Individual+ 'h');
			$('#txt_horasEquipe').text(data.hE_Equipe + 'h');
			$('#tmetric').text(formatarHora(data.totalApropriado));
			$('#trabalhado').text(formatarHora(data.totalPonto));
			$('#pj').css("display", data.pj ? "" : "none");
			$('#clt').css("display", data.pj ? "none" : "");
			$('#horasPJ').text(data.hE_Individual + "h ");


			// Obtendo os valores das strings dos elementos HTML
			var valorHorasIndividuaisString = document.getElementById("txt_horas_individuais").innerText;
			var valorHorasEquipeString = document.getElementById("txt_horasEquipe").innerText;

			var corHorasIndividuais = valorHorasIndividuaisString.startsWith('-') ? 'red' : 'green';
			var corHorasEquipe = valorHorasEquipeString.startsWith('-') ? 'red' : 'green';

			document.getElementById("txt_horas_individuais").style.color = corHorasIndividuais;
			document.getElementById("txt_horasEquipe").style.color = corHorasEquipe;


			// Grafico apropria√ß√£o
			// Assume data.resumoApropriacao is available and contains the necessary data
			var columns = [];
			var colors = {};

			// Itera sobre data.resumoApropriacao e popula as colunas e cores
			$.each(data.resumoApropriacao, function (index, apropriacao) {
				columns.push([apropriacao.tipo, apropriacao.valor]);
				colors[apropriacao.tipo] = apropriacao.color;
			});

			function trocaCor() {
				var cor = getElementById("valorEngajamento").value;
				if (data.engajamento > 100) {
					document.getElementById("valorEngajamento").style.backgroundColor = red;
				}
			}


			function trocaCor() {
				var elemento = $('#valorEngajamento');
				var valor = parseInt(elemento.text().replace('%', ''));

				if (valor > 100) {
					elemento.css('color', 'red');
				}
				else {
					elemento.css('color', 'black');
				}
			}

			trocaCor();

			// Gera o gr√°fico
			function renderChart() {
				var chart = bb.generate({
					size: {
						width: document.getElementById("piechart").offsetWidth,
						height: 310 // Defina uma altura adequada para o gr√°fico
					},
					data: {
						columns: columns,
						type: "pie",
						onclick: function (d, i) {
							console.log("onclick", d, i);
						},
						onover: function (d, i) {
							console.log("onover", d, i);
						},
						onout: function (d, i) {
							console.log("onout", d, i);
						},
						colors: colors
					},
					bindto: "#piechart"
				});
				return chart;
			}

			// Renderiza o gr√°fico inicialmente
			var chart = renderChart();

			// Atualiza o tamanho do gr√°fico quando a janela √© redimensionada
			window.addEventListener("resize", function () {
				chart.resize({
					width: document.getElementById("piechart").offsetWidth,
					height: 310
				});
			});


			// DESENHA A TABELA
			var trs = document.getElementById("atividades").getElementsByTagName("tr");

			// Remove all rows
			while (trs.length > 0) {
				trs[0].parentNode.removeChild(trs[0]);
			}

			$('#atividades').append('<tr><th scope="col">ID</th><th scope="col">Atividade</th><th scope="col">Ticket</th><th scope="col">Tipo</th><th scope="col">Data</th><th scope="col">Horas</th></tr>');
			var indice = 1;
			$.each(data.atividades, function (index, chapter) {
				$('#atividades').append('<tr><th scope="row">' + indice++ + '</th><td>' + chapter.atividade + '</td><td>' + chapter.ticket + '</td><td>' + chapter.tipo + '</td><td>' + chapter.data.substr(0, 10) + '</td><td>' + moment(chapter.horas).format("HH:mm") + '</td></tr>');
			});


			// Gr√°fico de ponteiro
			var chart2 = bb.generate({
				data: {
					columns: [
						["P√©ssimo", 50],
						["Ruim", 40],
						["Excelente", 10]
					],
					type: "gauge", // for ESM specify as: gauge()
				},
				size: {
					height: 120

				},
				interaction: {
					enabled: false
				},
				legend: {
					show: false
				},
				gauge: {
					width: 40,
					//title: "\n\n\n\n\n{=NEEDLE_VALUE}%",
					label: {
						format: function (value, ratio, id) { return ""; }
					}
				},
				arc: {
					needle: {
						show: true,
						value: data.engajamento
					}
				},
				color: {
					pattern: [
						"#FF0000",
						"#FFFF00",
						"#008000"
					]
				},
				bindto: "#gaugeNeedle_1"
			});



			// Grafico Evolu√ß√£o
			var listaEvolucao = [
				['Year', 'Engajamento']];
			$.each(data.evolucaoEngajamento, function (index, evolucao) {
				listaEvolucao.push([evolucao.data, evolucao.valor]);
			});
			google.charts.load('current', { 'packages': ['corechart'] });
			google.charts.setOnLoadCallback(drawChart);

			function drawChart() {
				var data = google.visualization.arrayToDataTable(listaEvolucao);

				var view = new google.visualization.DataView(data);
				view.setColumns([0, 1, {
					calc: 'stringify',
					sourceColumn: 1,
					type: 'string',
					role: 'annotation',
				}]);

				var options = {
					height: 150,
					width: 300,
					title: '',
					curveType: 'function',
					legend: { position: 'none' },
					backgroundColor: 'transparent',
					hAxis: { gridlines: { count: 0 } },
					vAxis: { gridlines: { count: 0 }, textPosition: 'none' },
					annotations: {
						textStyle: {
							fontSize: 14,
							bold: true
						}
					}


				};


				var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

				chart.draw(view, options);
			}


			// var top4Selecionados = top3.slice(0, 3);
			// top4Selecionados.splice(0,0,['Time ERP', 52, './Content/Images/time-erp.jpg']);
			$('#primeiro').html('<img class="rounded-circle me-1" width="24" height="24" src="data:image/jpeg;base64,' + data.fotoTime + '" alt="rounded-circle me-1 flex">' + data.time + ' ' + data.engajamentoTime + '%');
			data.topEngajamento.forEach(function (colaborador, indice) {
				var elemento = '#segundo';
				if (indice == 1) {
					elemento = '#terceiro';
				} else if (indice == 2) {
					elemento = '#quarto';
				} else if (indice == 3) {
					elemento = '#quinto';
				}
				$(elemento).html('<img class="rounded-circle me-1" width="24" height="24" src="data:image/jpeg;base64,' + colaborador.foto + '" alt="rounded-circle me-1 flex">' + colaborador.nome + ' ' + colaborador.percentual + '%');
			});
		});



	}
	function colaboradorFuncao(nomeColaborador, cargoColaborador, imagemColaborador, imagemTime, valorEngajamento, txt_horas_individuais, horasDaEquipe, totalIndividual, totalPonto, lancamentoPorTipo) {
		// $('#nome_colaborador').text(nomeColaborador);
		$('#cargo_colaborador').text(cargoColaborador);
		$('#img_colaborador').attr('src', imagemColaborador);
		$('#time_colaborador').attr('src', imagemTime);
		$('#valorEngajamento').text(valorEngajamento + '%');
		$('#txt_horas_individuais').text(txt_horas_individuais);
		$('#txt_horasEquipe').text(horasDaEquipe);
		$('#totalIndividual').text(' Engajamento: ' + totalIndividual + 'h / ' + totalPonto + 'h');


		// DESENHA A TABELA
		var trs = document.getElementById("atividades").getElementsByTagName("tr");

		// Remove all rows
		while (trs.length > 0) {
			trs[0].parentNode.removeChild(trs[0]);
		}

		var a = listaAtividade.filter(function (obj) { return obj.nomeColaborador == nomeColaborador; });
		var indice = 1;
		$.each(a, function (index, chapter) {
			$('#atividades').append('<tr><th scope="row">' + indice++ + '</th><td>' + chapter.atividade + '</td><td>' + chapter.ticket + '</td><td>' + chapter.tipo + '</td><td>' + chapter.data + '</td><td>' + chapter.horas + '</td></tr>');
		});

	}


	function insertPreviousWeekDates() {
		var dataAtual = new Date();
		var diaAtual = dataAtual.getDay(); // 0 = Domingo, 1 = Segunda-feira, ..., 6 = S√°bado
		var daysToSubtract = diaAtual + 6; // Subtraindo os dias da semana atual at√© s√°bado
		var segundaPassada = new Date(dataAtual.getTime() - (daysToSubtract * 24 * 60 * 60 * 1000)); // Pegando a segunda-feira da semana anterior
		var sextaPassada = new Date(segundaPassada.getTime() + (4 * 24 * 60 * 60 * 1000)); // Adicionando 4 dias para chegar a sexta-feira


		var formattedMonday = segundaPassada.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });
		var formattedFriday = sextaPassada.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });

		var placeholderElement = document.getElementById('date-placeholder');

		placeholderElement.innerHTML = `Atividades trabalhadas durante o per√≠odo ${formattedMonday} √† ${formattedFriday}`;
		document.periodo = `${formattedMonday} √† ${formattedFriday}`;
	}
	insertPreviousWeekDates();

	clickColaboradorFuncao('3F7E1A71-815A-4397-D725-08DC62DFD032');




	//const nome = document.getElementById("nome_colaborador").innerText;

	// Email
	const btnGenerate = document.querySelector("#sendMailButton");

	btnGenerate.addEventListener("click", () => {
		const content = document.querySelector("#capture");
		let id = document.idColaborador;
		// Renderizar o conte√∫do HTML como uma imagem de canvas
		html2canvas(content, {
			scale: 2, // Define a escala para melhor qualidade (opcional)
			logging: false // Desativa os logs para evitar excesso de mensagens no console (opcional)
		}).then(canvas => {
			// Converta o canvas para uma URL de dados no formato JPG
			const jpgDataUrl = canvas.toDataURL("image/jpeg");

			// Abra um link com a URL de dados para que o usu√°rio possa salvar a imagem
			// const link = document.createElement('a');
			// link.href = jpgDataUrl;
			// link.download = "c:\\Temp\\" + id + ".jpg"; // Nome do arquivo JPG a ser baixado
			// link.click();
			var apiUrl = 'https://localhost:7052/Colaborador/SendEmail';
			//  $.post(apiUrl,
			//  {
			// 	foto: "jpgDataUrl",
			// 	id: "",
			// 	periodo: "",
			// 	engajamento: "",
			//  }
			//  ,
			//   function (data) {

			//  });


			jQuery.ajax({
				'type': 'POST',
				'url': apiUrl,
				'contentType': 'application/json',
				'data': JSON.stringify({
					foto: jpgDataUrl,
					id: document.idColaborador,
					periodo: document.periodo,
					lista: document.lista,
					engajamento: document.engajamento,
				}),
				'dataType': 'json',
				'success': function (data) { }
			});
		});
		alert("Email Enviado");
	});


// // Define the value that is missing for data1 to reach 100%
// var data1Remaining = 20;
// var data1Completed = 80; // This represents the completed portion

// // Define the chart data
// var chart = bb.generate({
//   data: {
//     columns: [
//       ["data1_completed", data1Completed], 
//       ["data1_remaining", data1Remaining] 
//     ],
//     type: "donut", // for ESM specify as: donut()
//     colors: {
//       data1_completed: "green", // Color for the completed portion (orange)
//       data1_remaining: "#f4f2f0" // Color for the remaining portion (grey)
//     }
//   },
//   legend: {
//     show: false // Remove the legend
//   },
//   donut: {
//     title: "DevOps", // Display the completion percentage in the center of the donut
//     width: 45 // Adjust this width as needed
//   },
//   size: {
//     width: 180
//   },
//   bindto: "#multilineTitle"
// });


var chart = bb.generate({
  data: {
    columns: [
	["DevOps x TMetric", 95]
    ],
    type: "gauge", // for ESM specify as: gauge()
    onclick: function(d, i) {
	console.log("onclick", d, i);
   }
},
  gauge: {},
  color: {
    pattern: [
      "orange","#00b050"],
    threshold: {
      values: [
        94.9
      ]
    }
  },
  size: {
    height: 140
  },
  bindto: "#gaugeChart"
});

</script>
<style>
	#valorEngajamento {
		font-size: 23px;
		font-weight: bolder;
	}

	#timeseriesChart .bb-region.backlog {
		fill: gray;
		font-family: Castellar;
		font-size: 20px
	}

	#timeseriesChart .bb-region.discovery {
		fill: blue;
		font-family: Castellar;
		font-size: 20px
	}

	#timeseriesChart .bb-region.delivery {
		fill: orange;
		font-family: Castellar;
		font-size: 20px
	}

	#timeseriesChart .bb-region.done {
		fill: green;
		font-family: Castellar;
		font-size: 20px
	}

	#gaugeNeedle_1 .bb-chart-arcs-gauge-title tspan:first-child {
		font-size: 0.3em;
	}

	#gaugeNeedle_1 .bb-chart-arcs-gauge-title {
		transform: translateY(-80px);
		font-size: 3em;
	}

	#gaugeNeedle_1 .bb-gauge-value {
		font-family: Raleway, sans-serif;
	}

	/* Adicionando espa√ßo entre os elementos e alinhando-os lado a lado */
	.horas-card {
		margin-left: auto;
		margin-right: auto;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	/* Ajustando o alinhamento do texto das horas */
	.horas-card .meutexto {
		display: block;
		margin-top: 10px;
		/* Espa√ßo entre os elementos */
		text-align: center;
		/* Centraliza o texto */
	}

	.sendMailButton {
		background-color: #13aa52;
		border: 1px solid #13aa52;
		border-radius: 10px;
		box-shadow: rgba(0, 0, 0, .1) 0 2px 4px 0;
		box-sizing: border-box;
		color: #fff;
		cursor: pointer;
		font-family: "Akzidenz Grotesk BQ Medium", -apple-system, BlinkMacSystemFont, sans-serif;
		font-size: 13px;
		font-weight: 200;
		outline: none;
		outline: 0;
		padding: 10px 25px;
		text-align: center;
		transform: translateY(0);
		transition: transform 150ms, box-shadow 150ms;
		user-select: none;
		-webkit-user-select: none;
		touch-action: manipulation;
	}

	.sendMailButton:hover {
		box-shadow: rgba(0, 0, 0, .15) 0 3px 9px 0;
		transform: translateY(-2px);
	}

	@media (min-width: 768px) {
		.sendMailButton {
			padding: 10px 30px;
		}
	}

	h1 {
		font-weight: 500;
		font-style: normal;
		font-size: 70px !important;
		color: green !important;
		margin-left: 100px;
		margin-top: -89px !important;
	}

	h4 {
		margin-top: 10 !important;
		font-family: Arial, Helvetica, sans-serif;
		font-size: medium;
	}

	h5 {
		color: grey !important;
		font-family: Arial, Helvetica, sans-serif;
		font-size: medium !important;
	}

	p {
		color: green !important;
		margin-left: 140px;
		margin-top: 37px !important;
	}

	.bb svg {
		font: 10px sans-serif;
		-webkit-tap-highlight-color: rgba(0, 0, 0, 0)
	}

	body {
		overflow-x: hidden;
	}

	span.meutexto {
		font-family: 'Orbitron', sans-serif;
		font-weight: 650;
		font-size: 23px !important;
	}

	.list-unstyled {
		list-style-type: none;
		/* Remove os marcadores de lista */
		padding-left: 0;
		/* Remove o recuo padr√£o da lista */
	}

	#piechart {
		width: 100%;
		height: 100%;
	}

	.card {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
	}

	.card .row {
		flex-grow: 1;
	}
</style>
<html>