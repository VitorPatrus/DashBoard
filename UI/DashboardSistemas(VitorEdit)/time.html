<!DOCTYPE html>
<!-- Coding by CodingLab | www.codinglabweb.com -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!----======== CSS ======== -->
    <link rel="stylesheet" href="time.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/billboard.js/dist/theme/insight.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="billboard.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-cd8n7j2MwZj+d7u94kdKw1+HrvSuX3YPV61EqCbA5JqewFbFxFchK6ZYGOB6SNr2uP9f8SlnaRp2UKB5YUa1Fg=="
        crossorigin="anonymous" />



    <!----===== JS ===== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/billboard.js/dist/billboard.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="billboard.min.js"></script>

    <title>PATRUS DASH</title>
</head>

<body>
    <nav class="sidebar close">
        <header>
            <div class="image-text">
                <span class="image">
                    <img src="/DashboardSistemas(VitorEdit)/Content/Images/patrus.png" alt="">
                </span>

                <div class="text logo-text">
                    <span class="name">TI PATRUS</span>
                    <span class="profession" id="time">TMS</span>
                </div>
            </div>

            <i class='bx bx-chevron-right toggle'></i>
        </header>

        <div class="menu-bar">
            <div class="menu">
                <ul>
                    <li class="nav">
                        <div class="wrapper" onclick="flipImage()">
                            <img id="fotoTMS"
                                src="/DashboardSistemas(VitorEdit)/Content/Images/time-tms - Copia.png" width="170px"
                                alt="Ícone Dashboard"
                                style="border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); cursor: pointer;">
                            <img id="fotoERP" src="/DashboardSistemas(VitorEdit)/Content/Images/time-erp.jpg"
                                width="170px" height="90px" alt="Ícone Dashboard"
                                style="border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); cursor: pointer; display: none;">
                        </div>
                    </li>

                </ul><br>
                <hr>
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="#">
                            <img src="/DashboardSistemas(VitorEdit)/Content/Images/face-tulio.png" alt="Ícone Dashboard"
                                class="icon-img">
                            <span class="text nav-text">&nbsp Marco Túlio</span>
                        </a>
                    </li>
                </ul>
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="#">
                            <img src="/DashboardSistemas(VitorEdit)/Content/Images/face-jp.jpg" alt="Ícone Dashboard"
                                class="icon-img">
                            <span class="text nav-text">&nbsp João Paulo</span>
                        </a>
                    </li>
                </ul>
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="#">
                            <img src="/DashboardSistemas(VitorEdit)/Content/Images/face-paulo.jpg" alt="Ícone Dashboard"
                                class="icon-img">
                            <span class="text nav-text">&nbsp Paulo Rafael</span>
                        </a>
                    </li>
                </ul>
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="#">
                            <img src="/DashboardSistemas(VitorEdit)/Content/Images/face-joel.jpg" alt="Ícone Dashboard"
                                class="icon-img">
                            <span class="text nav-text">&nbsp Joel Martins</span>
                        </a>
                    </li>
                </ul>
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="#">
                            <img src="/DashboardSistemas(VitorEdit)/Content/Images/face-junior.jpg"
                                alt="Ícone Dashboard" class="icon-img">
                            <span class="text nav-text">&nbsp Júnior Dias</span>
                        </a>
                    </li>
                </ul>
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="#">
                            <img src="/DashboardSistemas(VitorEdit)/Content/Images/face-marco.jpg" alt="Ícone Dashboard"
                                class="icon-img">
                            <span class="text nav-text">&nbsp Marco Túlio</span>
                        </a>
                    </li>
                </ul>
                </ul>
            </div>

            <div class="bottom-content">
                <li class="">
                    <a href="index.html">
                        <i class='bx bx-log-out icon'></i>
                        <span class="text nav-text">Logout</span>
                    </a>
                </li>

            </div>
        </div>
    </nav>

    <section class="home">
        <div class="text">Dashboard da Equipe</div>
        <div class="row">
            <!-- Primeiro card -->
            <div class="col-md-3 offset-md-0 custom-offset" style="min-width: 370px ;">
                <div class="card">
                    <ul class="list-group list-group-flush">
                        <div class="card-footer">
                            Engajamento Time 380/400 horas
                        </div>
                        <li class="list-group-item">
                            <div class="row align-items-center">
                                <div class="col-md-6">
                                    <img src="/DashboardSistemas(VitorEdit)/Content/Images/8085977.jpg"
                                        class="img-fluid" style="max-width: 100px; max-height:2200px;"
                                        alt="Descrição da imagem">
                                </div>
                                <div class="col-md-6">
                                    <div>
                                        <span>Positivas</span>
                                        <h2 style="color: green;">10</h2>
                                    </div>
                                    <div>
                                        <span>Negativas</span>
                                        <h2 style="color: red;">45</h2>
                                    </div>
                                </div>
                            </div>
                            <!-- Sub-card dentro do primeiro card -->
                            <div class="col-md-12" style="margin-top: 10px; margin-left: 15px;">
                                <div class="card" style="width: 18rem;">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">
                                            <div id="gaugeNeedle_1"></div>
                                            <span id="valorEngajamento">95%</span>
                                        </li>
                                    </ul>
                                    <div class="card-footer">
                                        Gestão de Horas Extras
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Segundo card -->
            <div class="col-md-4">
                <div class="card" style="min-width: 347px;  min-height: 420px;">
                    <ul class="list-group list-group-flush">
                        <div class="card-footer">
                            Engajamento Time 380/400 horas
                        </div>
                        <li class="list-group-item">
                            <div class="row align-items-center">
                                <div class="col-md-12">
                                    <div id="piechart" style="width: 650px; height: 350px; margin-left: -100px;"></div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Terceiro card -->
            <div class="col-md-4">
                <div class="card" style="min-width: 347px; min-height: 420px;">
                    <ul class="list-group list-group-flush">
                        <div class="card-footer">
                            Engajamento Time 380/400 horas
                        </div>
                        <li class="list-group-item">
                            <div class="row align-items-center">
                                <div class="col-md-12">
                                    <div id="linearGradient_1"
                                        style="width: 400px; height: 300px; margin-left: -20px; margin-top: 35px"></div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- CARDS DE BAIXO -->
        <div class="container" style="margin-top: 25px; margin-left: 3px;">
            <div class="row">
                <div class="col-md-2">
                    <div class="card" style="min-height: 175px;">
                        <div class="card-footer">
                            Conclusões
                        </div>
                        <div class="card-body">
                            <span class="material-symbols-outlined"
                                style="color: rgb(9, 240, 9); font-size: 35px; font-weight: 900;">
                                task_alt
                            </span>
                            <h3 style="font-size:medium; margin-left: 50px; margin-top: -30px; font-size: 22px;">5
                                CARS'S</h3>
                        </div>
                        <div class="card-footer">
                            Story Point's
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card" style="min-height: 175px;">
                        <div class="card-footer">
                            Entregas
                        </div>
                        <div class="card-body">
                            <span class="material-symbols-outlined"
                                style="color: rgb(9, 240, 9); font-size: 40px; font-weight: 900;">
                                sweep
                            </span>
                            <h3 style="font-size:medium; margin-left: 75px; margin-top: -40px; font-size: 25px;">80 SP
                            </h3>
                        </div>
                        <div class="card-footer">
                            Story Point's
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card" style="min-height:175px;">
                        <div class="card-footer">
                            Backlog
                        </div>
                        <div class="card-body">
                            <span class="material-symbols-outlined"
                                style="color: orangered; font-size: xx-large; font-weight: 900;">
                                chart_data
                            </span>
                            <h3 style="font-size:medium; margin-left: 75px; margin-top: -31px; font-size: larger;">
                                10/45 Novos</h3>
                        </div>
                        <div class="card-footer">
                            Features - DevOp
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card" style="min-height: 175px;">
                        <div class="card-footer">
                            WIP
                        </div>
                        <div class="card-body">
                            <span class="material-symbols-outlined"
                                style="color:orange; font-size: xx-large; font-weight: 900;">
                                engineering
                            </span>
                            <h3 style=" margin-left: 50px; margin-top: -31px; font-size: 23px;">
                                15 TASKS</h3>
                        </div>
                        <div class="card-footer">
                            Em Andamento
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card" style="min-height: 175px;">
                        <div class="card-footer">
                            INCIDENTES
                        </div>
                        <div class="card-body">
                            <span class="material-symbols-outlined"
                                style="color:red; font-size: xx-large; font-weight: 900;">
                                bug_report
                            </span>
                            <h3 style="font-size:medium; margin-left: 50px; margin-top: -31px; font-size: 20px;"">
                    15 CARD'S</h3>
                </div>
                        <div class=" card-footer">
                                Em Andamento
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card" style="min-height: 175px;">
                        <div class="card-footer">
                            Lead Time
                        </div>
                        <div class="card-body">
                            <span class="material-symbols-outlined"
                                style="color:yellowgreen; font-size: xx-large; font-weight: 900;">
                                chronic
                            </span>
                            <h3 style="font-size:medium; margin-left: 50px; margin-top: -31px; font-size: 27px;""> 15 Dias</h3>
                                </div> 
                            <div class=" card-footer">
                                Tempo Entrega
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </section>

    <script>
        // Nav Bar
        const body = document.querySelector('body'),
            sidebar = body.querySelector('nav'),
            toggle = body.querySelector(".toggle"),
            searchBtn = body.querySelector(".search-box"),
            modeSwitch = body.querySelector(".toggle-switch"),
            modeText = body.querySelector(".mode-text");

        toggle.addEventListener("click", () => {
            sidebar.classList.toggle("close");
        })

        // Gráfico Ponteiro
        var valorEngajamento = 70;
        document.getElementById("valorEngajamento").innerText = valorEngajamento + '%';
        var chart2 = bb.generate({
            data: {
                columns: [
                    ["Péssimo", 25],
                    ["Ruim", 25],
                    ["Bom", 25],
                    ["Excelente", 25]
                ],
                type: "gauge", // for ESM specify as: gauge()
            },
            size: {
                height: 125
            },
            interaction: {
                enabled: false
            },
            legend: {
                show: false
            },
            gauge: {
                width: 40,
                //title: "\n\n\n\n\n{=NEEDLE_VALUE}%",
                label: {
                    format: function (value, ratio, id) { return ""; }
                }
            },
            arc: {
                needle: {
                    show: true,
                    value: valorEngajamento
                }
            },
            color: {
                pattern: [
                    "#FF0000",
                    "#FFA500",
                    "#FFFF00",
                    "#008000"
                ]
            },
            bindto: "#gaugeNeedle_1"
        });

        // Gráfico de Pizza
        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Language', 'Speakers (in millions)'],
                ['German', 5.85],
                ['French', 1.66],
                ['Italian', 0.316],
                ['Romansh', 0.0791]
            ]);

            var options = {
                pieSliceText: 'label',
                title: '',
                pieStartAngle: 100,
                backgroundColor: 'transparent'
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
            chart.draw(data, options);

            document.getElementById('piechart').appendChild(legend);
        }

        // Gráfico de Área

        var chart = bb.generate({
            data: {
                columns: [
                    ["data1", 230, 280, 251, 400, 150, 546, 158],
                    ["data2", 130, 357, 151, 400, 250, 250, 395],
                    ["data3", 330, 280, 320, 218, 450, 150, 500]
                ],
                type: "area-spline", // for ESM specify as: areaSpline()
                groups: [
                    [
                        "data1",
                        "data2",
                        "data3"
                    ]
                ]
            },
            area: {
                linearGradient: true
            },
            bindto: "#linearGradient_1"
        });

        // Selecting the sidebar and buttons

        const sidebarOpenBtn = document.querySelector("#sidebar-open");
        const sidebarCloseBtn = document.querySelector("#sidebar-close");
        const sidebarLockBtn = document.querySelector("#lock-icon");

        // Function to toggle the lock state of the sidebar
        const toggleLock = () => {
            sidebar.classList.toggle("locked");
            // If the sidebar is not locked
            if (!sidebar.classList.contains("locked")) {
                sidebar.classList.add("hoverable");
                sidebarLockBtn.classList.replace("bx-lock-alt", "bx-lock-open-alt");
            } else {
                sidebar.classList.remove("hoverable");
                sidebarLockBtn.classList.replace("bx-lock-open-alt", "bx-lock-alt");
            }
        };

        // Function to hide the sidebar when the mouse leaves
        const hideSidebar = () => {
            if (sidebar.classList.contains("hoverable")) {
                sidebar.classList.add("close");
            }
        };

        // Function to show the sidebar when the mouse enter
        const showSidebar = () => {
            if (sidebar.classList.contains("hoverable")) {
                sidebar.classList.remove("close");
            }
        };

        // Function to show and hide the sidebar
        const toggleSidebar = () => {
            sidebar.classList.toggle("close");
        };

        // If the window width is less than 800px, close the sidebar and remove hoverability and lock
        if (window.innerWidth < 800) {
            sidebar.classList.add("close");
            sidebar.classList.remove("locked");
            sidebar.classList.remove("hoverable");
        }

        // Adding event listeners to buttons and sidebar for the corresponding actions
        sidebarLockBtn.addEventListener("click", toggleLock);
        sidebar.addEventListener("mouseleave", hideSidebar);
        sidebar.addEventListener("mouseenter", showSidebar);
        sidebarOpenBtn.addEventListener("click", toggleSidebar);
        sidebarCloseBtn.addEventListener("click", toggleSidebar);

    // Lista de nomes quando dashboardIconBack está oculto
    var nomesOriginal = ["Marco Túlio", "João Paulo", "Paulo Rafael", "Joel Martins", "Júnior Dias", "Marco Túlio"];

    // Lista de nomes quando dashboardIconBack está visível
    var nomesAlterados = ["Nome Alterado 1", "Nome Alterado 2", "Nome Alterado 3", "Nome Alterado 4", "Nome Alterado 5", "Nome Alterado 6"];

    function flipImage() {
        var tms = document.getElementById('fotoTMS');
        var erp = document.getElementById('fotoERP');
        var professionSpan = document.getElementById('time');
        var menuLinks = document.querySelectorAll('.text.nav-text');

        if (tms.style.display === 'none') {
            // Se fotoTMS não estiver visível, mostrar fotoTMS e esconder fotoERP
            tms.style.display = 'block';
            erp.style.display = 'none';
            professionSpan.textContent = "TMS";

            // Atualizar os nomes das pessoas
            menuLinks.forEach(function(link, index) {
                link.textContent = nomesAlterados[index];
            });
        } else {
            // Se fotoTMS estiver visível, mostrar fotoERP e esconder fotoTMS
            tms.style.display = 'none';
            erp.style.display = 'block';
            professionSpan.textContent = "ERP";

            // Restaurar os nomes originais das pessoas
            menuLinks.forEach(function(link, index) {
                link.textContent = nomesOriginal[index];
            });
        }
    }

    // Adicionar um evento de clique à imagem do dashboard para chamar a função flipImage
    document.getElementById('fotoTMS').addEventListener('click', flipImage);



    </script>

</body>

</html>